<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cheltenham College – Modulo Hero</title>
  <style>
    :root{
      --cc-navy:#1e3a5f;
      --cc-navy-2:#2a4a6b;
      --cc-gold:#c9a961;
      --cc-text:#333;
      --shadow-lg:0 8px 30px rgba(0,0,0,.1);
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif}

    .hero-module{position:relative;height:100vh;overflow:hidden}
    .hero-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:1}
    .hero-overlay{
      position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;justify-content:center;align-items:center;
      color:#fff;text-align:center;padding:20px;transition:all .8s ease-out;
      background:linear-gradient(to bottom, rgba(30,58,95,.7) 0%, rgba(30,58,95,.85) 50%, rgba(30,58,95,.9) 100%);
    }
    .hero-overlay.move-bottom{
      justify-content:flex-end;padding:0 2rem 3rem;
      background:linear-gradient(to bottom, rgba(30,58,95,0) 0%, rgba(30,58,95,.1) 50%, rgba(30,58,95,.8) 100%);
    }
    .hero-overlay.move-bottom .hero-title,
    .hero-overlay.move-bottom .golden-bracket{display:none}
    .hero-overlay.move-bottom .hero-welcome{font-size:1.8rem;margin-bottom:.8rem;max-width:100%}
    .hero-overlay.move-bottom .hero-tagline{font-size:1.2rem;margin-bottom:.8rem;max-width:100%}
    .hero-overlay.move-bottom .hero-additional-text{font-size:1.3rem!important;margin-top:.5rem!important;max-width:100%;line-height:1.4!important}

    .golden-bracket{width:100px;height:auto;margin-top:2rem;margin-bottom:0;opacity:.9;animation:fadeIn 1s ease-out}
    .hero-title{font-size:5rem;font-family:Georgia,'Times New Roman',serif;font-weight:300;letter-spacing:.05em;margin-bottom:2rem;animation:slideUp 1s ease-out .2s both}
    .hero-title .ampersand{display:inline-block;color:var(--cc-gold);font-style:italic;font-size:1.1em;margin:0 .2em}
    .hero-welcome{font-size:1.75rem;font-weight:300;letter-spacing:.02em;margin-bottom:1.5rem;animation:slideUp 1s ease-out .4s both}
    .hero-tagline{text-transform:uppercase;font-size:1rem;letter-spacing:.3em;font-weight:600;color:var(--cc-gold);animation:slideUp 1s ease-out .6s both}

    #audioToggle.audio-toggle{
      position:absolute !important;top:2rem !important;right:2rem !important;z-index:4 !important;
      width:auto !important;height:auto !important;min-width:140px !important;min-height:48px !important;
      border-radius:6px !important;background:rgba(201, 169, 97, 0.9) !important;border:none !important;
      cursor:pointer !important;transition:all .3s ease !important;display:flex !important;
      align-items:center !important;justify-content:center !important;color:#fff !important;
      font-size:16px !important;padding:16px 24px !important;font-weight:600 !important;
      transform:scale(1.1) !important;
    }
    #audioToggle.audio-toggle:hover{
      background:rgba(201, 169, 97, 1) !important;transform:scale(1.15) !important;
    }
    #audioToggle.audio-toggle:active{
      transform:scale(1.05) !important;
    }
    .audio-icon{display:flex;align-items:center;justify-content:center;width:100%;height:100%}

    .scroll-indicator{
      position:absolute;bottom:2rem;right:3rem;z-index:3;color:#fff;font-size:.9rem;letter-spacing:.1em;
      animation:bounce 2s infinite;opacity:0;transition:opacity .5s ease-in-out;cursor:pointer
    }
    .scroll-indicator.show{opacity:1}
    .scroll-arrow{display:block;width:30px;height:30px;margin:10px auto 0;border-right:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(45deg)}

    .welcome-section{padding:4rem .5rem;max-width:1600px;margin:0 auto;background:#fff}
    .welcome-container{display:block;max-width:1400px;margin:0 auto}
    .welcome-content h2{font-family:Georgia,'Times New Roman',serif;font-size:clamp(1.8rem,4vw,2.5rem);color:var(--cc-navy);margin-bottom:1.5rem;font-weight:300;line-height:1.2;text-align:center}
    .welcome-content h2 .highlight{color:var(--cc-gold);font-style:italic}
    .welcome-text{font-size:clamp(1rem,2vw,1.1rem);line-height:1.7;color:var(--cc-text);margin-bottom:1.5rem;word-wrap:break-word;hyphens:auto}
    .welcome-text:first-of-type{font-size:clamp(1.1rem,2.2vw,1.2rem);font-weight:500;color:var(--cc-navy)}
    .welcome-photo{float:right;width:600px;margin:0 0 2rem 2rem;text-align:center}
    .head-photo{width:100%;border-radius:8px;box-shadow:var(--shadow-lg);transition:transform .3s ease}
    .head-photo:hover{transform:translateY(-5px)}
    .head-name{text-align:center;font-size:1.1rem;color:var(--cc-gold);margin-top:1.5rem;font-weight:500;font-style:italic}

    .cta-section{background:linear-gradient(135deg,var(--cc-navy) 0%, var(--cc-navy-2) 100%);padding:4rem .5rem;text-align:center;color:#fff}
    .cta-container{max-width:800px;margin:0 auto}
    .cta-title{font-family:Georgia,'Times New Roman',serif;font-size:clamp(2rem,4vw,3rem);font-weight:300;margin-bottom:1.5rem;color:#fff}
    .cta-title .highlight{color:var(--cc-gold);font-style:italic}
    .cta-subtitle{font-size:clamp(1.1rem,2.5vw,1.3rem);margin-bottom:3rem;opacity:.9;line-height:1.6}
    .cta-button{
      display:inline-block;background:var(--cc-gold);color:#fff;padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;text-decoration:none;border-radius:8px;
      transition:all .3s ease;text-transform:uppercase;letter-spacing:.1em;box-shadow:0 4px 15px rgba(201,169,97,.3)
    }
    .cta-button:hover{background:#b8986e;transform:translateY(-2px);box-shadow:0 6px 20px rgba(201,169,97,.4)}

    @keyframes fadeIn{from{opacity:0}to{opacity:.9}}
    @keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}

    @media (max-width: 768px){
      .hero-title{font-size:3rem}
      .hero-welcome{font-size:1.25rem}
      .hero-tagline{font-size:.9rem;letter-spacing:.2em}
      .golden-bracket{width:70px}
      .audio-toggle{width:auto;height:auto;font-size:14px;top:1.5rem;right:1.5rem;padding:12px 18px;transform:scale(1.05)}
      .audio-toggle:hover{transform:scale(1.1)}
      .audio-toggle:active{transform:scale(1.0)}
      .hero-overlay.move-bottom{padding:0 1rem 2rem}
      .hero-overlay.move-bottom .hero-welcome{font-size:1.4rem}
      .hero-overlay.move-bottom .hero-tagline{font-size:1rem}
      .hero-overlay.move-bottom .hero-additional-text{font-size:1.1rem!important}
      .scroll-indicator{right:1.5rem;font-size:.8rem}
      .welcome-section{padding:3rem .25rem}
      .welcome-photo{float:none;width:100%;max-width:400px;margin:2rem auto;display:block}
      .welcome-content h2{font-size:clamp(1.5rem,5vw,2rem);text-align:center}
      .welcome-text{font-size:clamp(.95rem,3vw,1rem)}
      .cta-section{padding:3rem .25rem}
      .cta-button{padding:.8rem 2rem;font-size:1rem}
    }
    @media (max-width:480px){
      .hero-title{font-size:2.5rem}
      .hero-welcome{font-size:1.1rem}
      .audio-toggle{font-size:13px;padding:10px 15px;transform:scale(1.0)}
      .audio-toggle:hover{transform:scale(1.05)}
    }

    @media (prefers-reduced-motion: reduce){
      .hero-video{animation:none}
      .hero-overlay,.golden-bracket,.hero-title,.hero-welcome,.hero-tagline{animation:none}
    }
  </style>
</head>
<body>
  <!-- Hero Module -->
  <section class="hero-module">
    <!-- Background Video -->
    <video class="hero-video" autoplay muted loop playsinline>
      <source src="https://mso-video.fra1.digitaloceanspaces.com/Cheltenham%20College%20Film%202023%20(No%20Front%20Logo).mp4" type="video/mp4"/>
      Il tuo browser non supporta il tag video.
    </video>

    <!-- Content Overlay -->
    <div class="hero-overlay" id="heroOverlay">
      <h1 class="hero-title">Oltre <span class="ampersand">&</span> Sopra</h1>
      <img class="golden-bracket" alt="" src="https://www.cheltenhamcollege.org/wp-content/themes/cheltenham-college/assets/src/img/reskin/bracket-gold.png"/>

      <p class="hero-welcome" id="personalWelcome">
        Benvenuti <span class="child-name"></span> e <span class="family-name"></span>
      </p>
      <p class="hero-tagline">Il tuo percorso unico inizia qui</p>
      <p class="hero-additional-text" style="font-size:1.1rem;font-weight:300;letter-spacing:.02em;margin-top:1rem;opacity:.95;animation:slideUp 1s ease-out .8s both;">
        Ogni bambino ha una storia da raccontare.<br/>
        Ogni famiglia porta qualcosa di speciale.<br/>
        Questo è il tuo percorso personalizzato a Cheltenham College.
      </p>
    </div>

    <!-- Audio Toggle Button -->
    <button class="audio-toggle" id="audioToggle" aria-label="Attiva/disattiva audio">
      <span class="audio-icon" id="audioIcon">
        <!-- starts with text -->
        Clicca per attivare l'audio
      </span>
    </button>

    <!-- Scroll Indicator -->
    <div class="scroll-indicator" id="scrollIndicator" role="button" aria-label="Vai alla sezione successiva">
      <span>SCORRI</span><span class="scroll-arrow"></span>
    </div>
  </section>

  <!-- Welcome Section -->
  <section class="welcome-section">
    <div class="welcome-container">
      <div class="welcome-content">
        <h2>Messaggio di benvenuto dal <span class="highlight">Preside del College</span></h2>

        <p class="welcome-text">Gentile <span class="parent-name"></span>, è per me un grandissimo piacere darvi il benvenuto al nostro prospetto personalizzato e spero che troviate in queste pagine sia ispirazione sia rassicurazione.</p>

        <p class="welcome-text">Crediamo che non esistano due bambini uguali, così come non esistono due famiglie uguali. Per questo abbiamo creato questo percorso personalizzato per voi – perché ogni bambino merita che la propria storia unica venga raccontata e il proprio cammino individuale celebrato.</p>

        <p class="welcome-text">Cheltenham è una scuola vivace e stimolante, con valori tradizionali ma un approccio molto moderno. Siamo orgogliosi di andare oltre le vostre aspettative come genitori, nel nostro supporto a <span class="child-name"></span>. Così facendo, permettiamo ai nostri allievi di superare le proprie aspettative.</p>

        <div class="welcome-photo">
          <img class="head-photo" alt="Preside del College" src="https://cheltenham-college.s3.eu-west-2.amazonaws.com/wp-content/uploads/2023/11/29141403/8-640x360.png"/>
          <p class="head-name">Mrs Nicola Huggett</p>
        </div>

        <p class="welcome-text">Otteniamo costantemente risultati accademici di altissimo livello grazie ai nostri insegnanti d’eccellenza, appassionati delle loro discipline e che trovano una gioia naturale nell’insegnamento. Siamo ambiziosi sul piano accademico e i nostri risultati parlano da soli. <span class="academic-interest-note"></span></p>

        <p class="welcome-text">Abbiamo inoltre uno straordinario palmarès sportivo in molte discipline, dalle più praticate a quelle meno comuni. Il nostro approccio apre la mente degli studenti a provare cose nuove e ad avere la sicurezza di poter sbagliare. Qui c’è qualcosa per tutti e, una volta esplorata la nostra offerta, potreste desiderare di tornare ai vostri giorni di scuola. <span class="sport-interest-note"></span></p>

        <p class="welcome-text">Il nostro sistema di Case e la cura pastorale sono eccezionali e costituiscono la pietra angolare di tutto ciò che facciamo. <span class="pastoral-priority-note"></span> Se oggi chiedeste a qualsiasi Cheltonian, vi parlerebbe dell’attenzione e della cura ricevute dallo staff della propria Casa e dal tutor. Lavoriamo sodo per promuovere ottimi rapporti tra studenti e docenti. La nostra atmosfera rilassata alimenta originalità e creatività nell’insegnamento e nell’apprendimento. Questo promuove l’agentività – <span class="child-name"></span> sarà incoraggiato/a a prendere in mano il proprio percorso e, così, lo/la prepariamo al mondo entusiasmante che lo/la attende al termine della scuola.</p>

        <p class="welcome-text">Il nostro obiettivo è andare oltre la semplice conoscenza per arrivare all’amicizia, oltre l’inclusione per arrivare al senso di appartenenza. L’appartenenza è una strada a doppio senso. <span class="child-name"></span> appartiene a questo luogo e una parte di questo luogo apparterrà, sempre e per sempre, a <span class="child-name"></span>. Così si formano amicizie che durano tutta la vita.</p>

        <p class="welcome-text">Qui, a Cheltenham College, c’è spazio per sbagliare e il tempo per rimediare. Aiutiamo a formare l’apprezzato “all-rounder” incoraggiando gli studenti a cimentarsi in attività diverse e ad apprezzare la varietà che qui esiste. Nessun giorno è uguale all’altro. Crediamo che quando <span class="child-name"></span> eccelle in una cosa, rapidamente possa eccellere anche in un’altra, spesso non correlata. Un applauso a un’esibizione al pianoforte può migliorare un esame di matematica. Un mezzo secolo può migliorare un tema di inglese. Tutto ruota, naturalmente, intorno alla fiducia. La fiducia per dire “Posso”. “Posso provare”. Questa fiducia in se stessi, e la fiducia degli altri in voi, è ciò che forma l’insieme. Questo è il senso dell’educazione. È ciò che plasma la traiettoria di un’intera vita. Ed è anche ciò che rappresenta Cheltenham College – un viaggio oltre e sopra.</p>

        <p class="welcome-text">Vi invitiamo a venirci a trovare presto.</p>
      </div>
    </div>
  </section>

  <!-- Call to Action Section -->
  <section class="cta-section">
    <div class="cta-container">
      <h2 class="cta-title">Vieni <span class="highlight">&</span> Scopri</h2>
      <p class="cta-subtitle">
        Vivi in prima persona ciò che rende straordinario Cheltenham College.
        Prenota una visita personalizzata e scopri perché <span class="child-name"></span> potrà crescere e prosperare qui.
      </p>
      <a class="cta-button" href="https://www.cheltenhamcollege.org/admissions/visit-us/" target="_blank" rel="noopener">Prenota la tua visita</a>
    </div>
  </section>

  <script>
    // -------------------------------
    // Config
    // -------------------------------
    const TEST_MODE = false;
    const TEST_DATA = {
      childName:'Emma',
      parentName:'Mr & Mrs Thompson',
      familyName:'the Thompson family',
      academicInterests:['sciences','mathematics'],
      activities:['sports'],
      boardingPreference:'Full Boarding',
      priorities:{academic:3,sports:2,pastoral:3,activities:2}
    };

    // Stato (dichiarato una sola volta)
    let isMuted = true;
    let video, audioIcon, heroOverlay, scrollIndicator;

    // -------------------------------
    // Data loader (precedenza robusta)
    // -------------------------------
    function getFormData(){
      if (TEST_MODE) return TEST_DATA;

      const parentData = (typeof window.parent !== 'undefined' && window.parent && window.parent.enquiryFormData) ? window.parent.enquiryFormData : null;
      const ls = localStorage.getItem('enquiryFormData');
      const lsData = ls ? JSON.parse(ls) : null;

      return parentData || lsData || {
        childName:"[Child's Name]",
        parentName:"[Parent Name]",
        familyName:"[Family Name]",
        academicInterests:[],
        activities:[],
        boardingPreference:"",
        priorities:{academic:2,sports:2,pastoral:2,activities:2}
      };
    }

    function populatePersonalisedContent(){
      const data = getFormData();

      document.querySelectorAll('.child-name').forEach(el => el.textContent = data.childName || "[Child's Name]");
      document.querySelectorAll('.parent-name').forEach(el => el.textContent = data.parentName || "[Parent Name]");
      document.querySelectorAll('.family-name').forEach(el => el.textContent = data.familyName || "[Family Name]");

      const academicNote = document.querySelector('.academic-interest-note');
      if (academicNote && Array.isArray(data.academicInterests) && data.academicInterests.length){
        let note = '';
        if (data.academicInterests.includes('sciences')){
          note = `Comprendiamo l’interesse di ${data.childName} per le Scienze – i nostri laboratori sono attrezzati a standard universitario e il nostro Dipartimento di Scienze vanta risultati eccezionali, con molti studenti che proseguono in Medicina, Ingegneria e Scienze Naturali nelle migliori università.`;
        } else if (data.academicInterests.includes('mathematics')){
          note = `Per un/una allievo/a con gli interessi matematici di ${data.childName}, il nostro sistema di livello sin dal primo giorno e le opportunità di estensione, incluse le sfide UKMT, offrono l’ambiente ideale per eccellere.`;
        } else if (data.academicInterests.includes('languages')){
          note = `L’interesse di ${data.childName} per le lingue potrà fiorire qui grazie alla nostra offerta di Francese, Spagnolo, Tedesco e Mandarino, oltre a scambi regolari e soggiorni di immersione.`;
        } else if (data.academicInterests.includes('humanities')){
          note = `I nostri Dipartimenti di Lettere umanistiche sono perfetti per ${data.childName} – dalla Morley History Society alle uscite di Geografia sul campo, diamo vita a queste materie.`;
        } else if (data.academicInterests.includes('arts')){
          note = `Gli interessi creativi di ${data.childName} si allineano perfettamente con il nostro eccellente Dipartimento di Arte e gli spazi studio dedicati.`;
        }
        academicNote.textContent = note;
      }

      const sportNote = document.querySelector('.sport-interest-note');
      if (sportNote && Array.isArray(data.activities) && data.activities.includes('sports')){
        sportNote.textContent = `Vedo che ${data.childName} è interessato/a allo sport – con oltre 30 discipline offerte e allenatori professionisti, inclusi olimpionici e internazionali, ogni studente trova la propria passione.`;
      }

      const pastoralNote = document.querySelector('.pastoral-priority-note');
      if (pastoralNote){
        if (data?.priorities?.pastoral === 3){
          pastoralNote.textContent = `Sono particolarmente lieto/a che attribuiate grande importanza alla cura pastorale – con il nostro programma di benessere Floreat, lo staff delle Case che vive in sede e un rapporto tutor:studenti di 1:8, il benessere di ${data.childName} sarà sempre la nostra priorità.`;
        } else if (data.boardingPreference && data.boardingPreference.includes('Boarding')){
          pastoralNote.textContent = `Per le famiglie che scelgono il boarding, è rassicurante sapere che lo staff della Casa vive in sede con le proprie famiglie, creando una vera “casa lontano da casa”.`;
        }
      }
    }

    // -------------------------------
    // UI / interazioni
    // -------------------------------
    function setMutedIcon(){
      audioIcon.textContent = isMuted
        ? "Clicca per attivare l'audio"
        : "Clicca per disattivare l'audio";
    }

    function toggleAudio(){
      isMuted = !isMuted;
      if (video) video.muted = isMuted;
      setMutedIcon();
    }

    function handleScroll(){
      if (window.scrollY > 50 && video && !video.muted){
        isMuted = true;
        video.muted = true;
        setMutedIcon();
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      video = document.querySelector('.hero-video');
      audioIcon = document.getElementById('audioIcon');
      heroOverlay = document.getElementById('heroOverlay');
      scrollIndicator = document.getElementById('scrollIndicator');

      // Inizializza stato audio del video
      if (video) video.muted = isMuted;
      setMutedIcon();

      // Collega il pulsante audio (usa id, non onclick inline)
      const audioBtn = document.getElementById('audioToggle');
      if (audioBtn) audioBtn.addEventListener('click', toggleAudio);

      // Sposta l'overlay dopo 12s, poi mostra il suggerimento di scroll
      if (heroOverlay){
        setTimeout(() => {
          heroOverlay.classList.add('move-bottom');
          if (scrollIndicator){
            setTimeout(() => scrollIndicator.classList.add('show'), 300);
          }
        }, 12000);
      }

      // Clic sull'indicatore di scroll → scroll fluido
      if (scrollIndicator){
        scrollIndicator.addEventListener('click', () => {
          window.scrollTo({top: window.innerHeight, behavior: 'smooth'});
        });
      }

      // Auto-mute allo scroll
      window.addEventListener('scroll', handleScroll, {passive:true});

      // Popola i testi personalizzati
      populatePersonalisedContent();
    });
  </script>
</body>
</html>
